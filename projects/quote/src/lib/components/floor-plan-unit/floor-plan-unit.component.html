<div class="floor-plan" fxLayout="column" fxLayoutGap="1.5rem">
  <div class="floor-plan-col" fxLayout="column" fxLayoutGap="1rem">
    <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="1rem">
      <mat-icon class="back pointer"
        ><span (click)="back()" class="material-icons">
          arrow_back
        </span></mat-icon
      >
      <span>Back to Quote/ {{ fpDetails?.floorname }}</span>
    </div>
    <mat-divider></mat-divider>

    <div
      class="floor-plan__container--input"
      fxLayout="row"
      fxLayoutAlign="start center"
      fxLayoutGap="2rem"
    >
      <mat-label class="h3 form-label-width">Unit Name:</mat-label>
      <mat-form-field appearance="outline" class="mt-1" style="width: 250px">
        <input [(ngModel)]="unitName" matInput />
      </mat-form-field>
      <button
        class="round"
        mat-flat-button
        color="primary"
        (click)="changeUnitName()"
      >
        Change Unit Name
      </button>
    </div>

    <div
      class="floor-plan__container--input"
      fxLayout="row"
      fxLayoutAlign="start center"
      fxLayoutGap="2rem"
    >
      <mat-label class="h3 form-label-width"
        >Add/Select a Floor Plan:</mat-label
      >
      <div class="add-to-md-button">
        <img src="assets/shop/addButton.svg" (click)="onCreateNewFP()"/>
      </div>
      <select class="grey" style="width: 190px" [(ngModel)]="selectedFpid" (change)="getSelectedFpu($event)">
        <option [value]=''>None Selected</option>
        <option *ngFor="let fp of fplist" [value]="fp.sgid">
          {{ fp.floorname }}
        </option>
      </select>
      <button
        class="round"
        mat-flat-button
        color="primary"
        (click)="addFloorPlan()"
        style="width: 170px"
      >
        Add
      </button>
    </div>
  </div>

  <div class="floor-plan-col odd" fxLayout="column" fxLayoutGap="1rem">
    <div class="h2">ADD/MANAGE MOODBOARDS</div>
    <div
      class="floor-plan__container"
      fxLayout="row wrap"
      fxLayoutAlign="start"
      fxLayoutGap="1rem"
    >
      <div
        fxFlex="10"
        class="floor-plan__container--item pointer"
        fxLayoutAlign="center center"
        fxLayout="column"
        (click)="openAddMoodboardDialog()"
      >
        <mat-icon class="icon" inline="true">add_circle_outline</mat-icon>
      </div>
      <div
        fxFlex="10"
        class="floor-plan__container--item pointer"
        [ngClass]="{}"
        *ngFor="let moodboard of moodboardList"
        fxLayout="column"
      >
        <img
          height="110px"
          width="auto"
          [src]="moodboard?.unitmoodboards?.is_moodboard_images?.small"
          alt="Moodboard"
        />
        <p>{{ moodboard?.unitmoodboards?.boardname }}</p>
      </div>
    </div>
  </div>

  <div fxLayout="column" fxLayoutAlign=" stretch">
    <div
      class="floor-plan-summary"
      fxLayout="column"
      fxLayoutAlign="start stretch"
    >
      <div class="h2">UNIT SUMMARY</div>
      <ag-grid-angular
        [gridOptions]="gridOptions"
        style="height: 600px; width: 100%"
        class="ag-theme-alpine quotes-table"
        [rowData]="rowData | async"
        [frameworkComponents]="frameworkComponents"
        [pinnedBottomRowData]="pinnedBottomRowData"
        [defaultColDef]="defaultColDef"
        [columnDefs]="columnDefs"
      >
      </ag-grid-angular>
    </div>
  </div>
</div>
