<div
  fxFlex
  class="quote-create__form"
  fxLayout="column"
  fxLayoutAlign="center center"
>
<div  
  fxLayout="row"
  fxFlex="100"
  style="width: 100%;"
  >
<div          
  fxFlex="95"
  fxLayout="row"
  fxLayoutAlign="center center">
<span class="quote-create__form--title"> CREATE A NEW QUOTE</span>
</div>
<div          
  fxFlex="5"
  fxLayout="row"
  fxLayoutAlign="row-reverse">
<span class="quote-create__form--title" (click)="cancel();" *ngIf="dialogData.isDialog == true"> X </span>
</div>
</div>
  <form
    [formGroup]="quoteFromGroup"
    action=""
    class="quote-create__form--elements"
    fxLayout="row wrap"
    fxLayoutAlign="space-between stretch"
  >
    <div
      *ngIf="quoteNumber"
      fxFlex="45"
      fxLayout="column"
      fxLayoutAlign="stretch"
    >
      <span class="label">Quote Number <span class="asterisk">*</span></span>
      <input
        [readonly]="quoteNumber"
        [ngClass]="{
          'error-border': quoteFromGroup.get('quote_id')?.invalid,
          'read-only': quoteNumber
        }"
        type="text"
        formControlName="quote_id"
        placeholder="Enter Quote Number"
      />
    </div>
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Customer Name<span class="asterisk">*</span></span>
      <input
        [ngClass]="{
          'error-border': quoteFromGroup.get('name')?.invalid
        }"
        type="text"
        formControlName="name"
        placeholder="Enter Customer Name"
      />
    </div>
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Phone<span class="asterisk">*</span></span>
      <input
        [ngClass]="{
          'error-border': quoteFromGroup.get('contact_no')?.invalid
        }"
        type="text"
        placeholder="Add a Phone Number"
        formControlName="contact_no"
      />
    </div>
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Company Name<span class="asterisk">*</span>
    </span>
    <div fxLayout="row" fxLayoutAlign="stretch" fxLayoutGap="5px" style="padding: 0px;">
    <a mat-button *ngIf="_user.getUser().isInternalUser()" mat-raised-button (click)="showDropdown=!showDropdown" class="add">
      <mat-icon inline="true">add_circle_outline</mat-icon>
    </a>
    <a mat-button *ngIf="!_user.getUser().isInternalUser()" mat-raised-button class="add">
      <mat-icon inline="true">add_circle_outline</mat-icon>
    </a>
    <input *ngIf="showDropdown"
        [readonly]="!_user.getUser().isInternalUser()"
        [ngClass]="{
          'error-border': quoteFromGroup.get('companyName')?.invalid,
          'read-only': !_user.getUser().isInternalUser()
        }"
        type="text"
        formControlName="companyName"
        placeholder="Add Company Name"
      />
      <select *ngIf="_user.getUser().isInternalUser() && !showDropdown"
      [ngClass]="{
        'error-border': quoteFromGroup.get('company_id')?.invalid
      }"
      formControlName="company_id"
      (change)="getProjectList('', $event)"
    >
      <option  *ngFor="let cmp of companyList" [value]="cmp.sgid" >
        {{ cmp.company }}
      </option>
    </select>
  </div>
    </div>
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Project Name<span class="asterisk">*</span> </span>
      <div fxLayout="row" fxLayoutAlign="stretch" fxLayoutGap="5px" style="padding: 0px;">
        <a mat-button *ngIf="_user.getUser().isInternalUser()" mat-raised-button (click)="showPDropdown=!showPDropdown" class="add">
          <mat-icon inline="true">add_circle_outline</mat-icon>
        </a>
        <a mat-button *ngIf="!_user.getUser().isInternalUser()" mat-raised-button class="add">
          <mat-icon inline="true">add_circle_outline</mat-icon>
        </a>
    
      <input *ngIf="showPDropdown"
        [ngClass]="{
          'error-border': quoteFromGroup.get('project_name')?.invalid
        }"
        type="text"
        formControlName="project_name"
        placeholder="Add Project Name"
      />
      <select *ngIf="_user.getUser().isInternalUser() && !showPDropdown"
      [ngClass]="{
        'error-border': quoteFromGroup.get('project_id')?.invalid
      }"
      formControlName="project_id"
    >
      <option *ngFor="let prj of projectList" [value]="prj.sgid">
        {{ prj.project }}
      </option>
    </select>
</div>
    </div>
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Address<span class="asterisk">*</span></span>
      <input
        [ngClass]="{
          'error-border': quoteFromGroup.get('address')?.invalid
        }"
        type="text"
        formControlName="address"
        placeholder="Enter on Address"
      />
    </div>
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Email<span class="asterisk">*</span></span>
      <input
        [ngClass]="{
          'error-border': quoteFromGroup.get('email')?.invalid
        }"
        type="text"
        formControlName="email"
        placeholder="Add on Email"
      />
    </div>
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">State<span class="asterisk">*</span></span>
      <select
        [ngClass]="{
          'error-border': quoteFromGroup.get('state_id')?.invalid
        }"
        formControlName="state_id"
      >
        <option *ngFor="let state of stateList" [value]="state.sgid">
          {{ state.name }}
        </option>
      </select>
    </div>
    
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">City<span class="asterisk">*</span></span>
      <input
        [readonly]="type === 'COPY'"
        [ngClass]="{
          'error-border': quoteFromGroup.get('city')?.invalid,
          'read-only': type === 'COPY'
        }"
        type="text"
        formControlName="city"
        placeholder="Enter a City"
      />
    </div>
    
    <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Zip Code<span class="asterisk">*</span></span>
      <input
        [readonly]="type === 'COPY'"
        [ngClass]="{
          'error-border': quoteFromGroup.get('zipcode')?.invalid,
          'read-only': type === 'COPY'
        }"
        type="text"
        formControlName="zipcode"
        placeholder="Add a ZipCode"
      />
    </div>
  </form>
  <div
    class="quote-create__actions"
    fxLayout="row"
    fxLayoutAlign="center center"
    fxLayoutGap="2rem"
  >
    <button
      mat-raised-button
      [disabled]="quoteFromGroup.invalid"
      class="btn btn-primary"
      (click)="submit()"
    >
      {{ submitButtonText }}
    </button>
    <button
    class="btn btn-cancel"
    mat-raised-button (click)="cancel()">CANCEL</button>
  </div>
</div>
