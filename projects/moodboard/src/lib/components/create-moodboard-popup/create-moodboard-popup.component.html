<div
  fxFlex
  class="mb-create__form"
  fxLayout="column"
  fxLayoutAlign="center center"
>  
  <!-- <div class="mb" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
      <div class="mb-create" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
          <span class="mb-create-text">CREATE A NEW MOODBOARD</span>
      </div>
  </div> -->
  <div  
  fxLayout="row"
  fxFlex="100"
  style="width: 100%;"
  >
<div          
  fxFlex="95"
  fxLayout="row"
  fxLayoutAlign="center center">
<span class="mb-create__form--title"> CREATE A NEW MOODBOARD</span>
</div>
<div          
  fxFlex="5"
  fxLayout="row"
  fxLayoutAlign="row-reverse">
<span class="mb-create__form--title" (click)="cancel();"> 
  <img src="assets/moodboard/images/close-22.svg" height="22px" width="22px">
</span>
</div>
</div>  
  <div class="mb-form">
    <form [formGroup]="mbCreateForm"  class="add-field" >
      <label style="display: flex;" class="label">Moodboard Type <span class="asterisk">*</span></label>
      <mat-button-toggle-group formControlName="moodboardType" aria-label="Moodboard Type" #mbtypegroup="matButtonToggleGroup" >
        <ng-container *ngFor="let item of catagorydata; let i = index">
        <mat-button-toggle [ngClass]="{'selected': mbtypegroup.value == item?.type_id}" value="{{item?.type_id}}" class="toggle-btn">
            <img mat-card-image  width="100px" height="100px" src="{{item.imageSrc}}" alt="{{item.value}}">
              <div fxLayout="row" class="text" fxLayoutGap="1rem" fxLayoutAlign="start center">
                <div fxLayout="row" class="text-lable" >{{item.value}}</div>
              </div>
        </mat-button-toggle>
        </ng-container>
      </mat-button-toggle-group>

  <div class="mb-form-inner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
    <div fxLayout="column" fxLayoutAlign="stretch" fxLayoutGap="2rem"> 
      <!-- <mat-form-field appearance = "fill">
        <label for="moodboardName" class="label">Moodboard Name <span class="asterisk">*</span></label>
        <input formControlName="moodboardName" matInput placeholder = "Name your Board">
      </mat-form-field> -->
      <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
        <span class="label">Moodboard Name<span class="asterisk">*</span></span>
        <input
          [ngClass]="{
            'error-border': mbCreateForm.get('moodboardName')?.invalid
          }"
          type="text"
          formControlName="moodboardName"
          placeholder="Name your Board"
        />
      </div>
    
     <!-- <mat-form-field appearance = "fill">
      <label for="moodboardCompany" class="label">Company Name <span class="asterisk">*</span></label>
      <input formControlName="moodboardCompany" matInput placeholder = "Enter Company Name">
   </mat-form-field>
   <mat-form-field appearance = "fill">
    <label for="moodboardProjectName" class="label">Project Name <span class="asterisk">*</span></label>
    <input formControlName="moodboardProjectName" matInput placeholder = "Name your Project">
  </mat-form-field> -->
  <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
    <span class="label">Project Name<span class="asterisk">*</span> </span>
    <div fxLayout="row" fxLayoutAlign="stretch" style="padding: 0px; margin: 0 0 0 -15px;">
      <a mat-button *ngIf="_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" (click)="showPDropdown=!showPDropdown" class="add">
        <img src="assets/moodboard/images/SVG-Icons-06.svg">
      </a>
      <a *ngIf="!_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" class="add">
        <img src="assets/moodboard/images/SVG-Icons-06.svg">        </a>
  
    <input *ngIf="showPDropdown"
      [ngClass]="{
        'error-border': mbCreateForm.get('moodboardProjectName')?.invalid
      }"
      type="text"
      formControlName="moodboardProjectName"
      placeholder="Add Project Name"
    />
    <select *ngIf="_user.getUser().isInternalUser() && !showPDropdown "
    [ngClass]="{
      'error-border': mbCreateForm.get('project_id')?.invalid
    }"
    formControlName="project_id"
  >
    <option *ngFor="let prj of projectList" [value]="prj.sgid">
      {{ prj.project }}
    </option>
  </select>
</div>
  </div>
  <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
    <span class="label">City<span class="asterisk">*</span></span>
    <input
      [ngClass]="{
        'error-border': mbCreateForm.get('moodboardCity')?.invalid
      }"
      type="text"
      formControlName="moodboardCity"
      placeholder="Enter a City"
    />
  </div>
  

  
    </div>
    <div fxLayout="column" fxLayoutAlign="stretch" fxLayoutGap="2rem"> 
      <!-- <mat-form-field appearance = "fill" >
        <mat-label class="label">State <span class="asterisk">*</span></mat-label>
          <mat-select formControlName="moodboardState">
            <mat-option *ngFor="let state of stateList" [value]="state.sgid">{{state.name}}</mat-option>
          </mat-select>
  
      </mat-form-field>
      <mat-form-field appearance = "fill">
        <label for="moodboardCity" class="label">City <span class="asterisk">*</span></label>
        <input formControlName="moodboardCity" matInput placeholder = "Enter a City">
     </mat-form-field>
     <mat-form-field appearance = "fill">
      <label for="moodboardZip" class="label">Zip Code <span class="asterisk">*</span></label>
      <input (input)="validatedCityZipCode()" formControlName="moodboardZip" matInput placeholder = "Add a ZipCode">
   </mat-form-field> -->
   <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
    <span class="label">Company Name<span class="asterisk">*</span>
  </span>
  <div fxLayout="row" fxLayoutAlign="stretch" style="padding: 0px; margin: 0 0 0 -15px;">
  <a mat-button *ngIf="_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" (click)="showDropdown=!showDropdown; showPDropdown=!showPDropdown" class="add">
    <img src="assets/moodboard/images/SVG-Icons-06.svg">
  </a>
  <a mat-button *ngIf="!_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" class="add">
    <img src="assets/moodboard/images/SVG-Icons-06.svg">
  </a>
  <input *ngIf="showDropdown"
      [readonly]="!_user.getUser().isInternalUser()"
      [ngClass]="{
        'error-border': mbCreateForm.get('moodboardCompany')?.invalid,
        'read-only': !_user.getUser().isInternalUser()
      }"
      type="text"
      formControlName="moodboardCompany"
      placeholder="Add Company Name"
    />
    <select *ngIf="_user.getUser().isInternalUser() && !showDropdown"
    [ngClass]="{
      'error-border': mbCreateForm.get('company_id')?.invalid
    }"
    formControlName="company_id"
    (change)="getProjectList('', $event)"
  >
    <option  *ngFor="let cmp of companyList" [value]="cmp.sgid" >
      {{ cmp.company }}
    </option>
  </select>
</div>
  </div>

   <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
    <span class="label">State<span class="asterisk">*</span></span>
    <select
      [ngClass]="{
        'error-border': mbCreateForm.get('moodboardState')?.invalid
      }"
      formControlName="moodboardState"
    >
      <option *ngFor="let state of stateList" [value]="state.sgid">
        {{ state.name }}
      </option>
    </select>
  </div>
  
  
  
  <div fxFlex="45" fxLayout="column" fxLayoutAlign=" stretch">
    <span class="label">Zip Code<span class="asterisk">*</span></span>
    <input
      [ngClass]="{
        'error-border': mbCreateForm.get('moodboardZip')?.invalid
      }"
      type="text"
      formControlName="moodboardZip"
      placeholder="Add a ZipCode"
    />
  </div>
  
    </div>
  </div>
  <!-- <div class="mb-form-inner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
    <button *ngIf="mbId == '' || mbId != '' && currentPage == 'create'"           mat-raised-button
    style="background-color:#F7C132;"  type="submit" mat-button>CREATE</button>
    <button *ngIf="mbId != '' && currentPage != 'create'" type="submit"           mat-raised-button
    style="background-color:#F7C132;" mat-button>UPDATE</button>
    <button (click)="resetForm();"  mat-raised-button style="background-color:#F7C132;"  mat-button>CANCEL</button>
    <div fxLayoutGap="4rem"></div>         
  
  </div>           -->
  
  

  </form>  
  <div
  class="mb-create__actions"
  fxLayout="row"
  fxLayoutAlign="center center"
  fxLayoutGap="2rem"
>
  <button
    mat-raised-button
    [disabled]="mbCreateForm.invalid"
    class="btn btn-primary"
    (click)="onSubmit()"
  >
  CREATE
  </button>
  <button
  class="btn btn-cancel"
  mat-raised-button (click)="cancel()">CANCEL</button>
</div>
  </div>          
  </div>      
       
  
  
  