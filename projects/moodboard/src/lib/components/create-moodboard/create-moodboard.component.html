<div
  fxFlex
  class="mb-create__form"
  fxLayout="column"
  fxLayoutAlign="center center"
>  
<div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
    <div class="mb-create" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
        <span *ngIf="mbId == null" class="mb-create__form--title">CREATE A NEW MOODBOARD</span>
        <span *ngIf="mbId != '' && currentPage != 'create'" class="mb-create__form--title">Editing Moodboard named <strong>{{boardname}}</strong></span>
        <span *ngIf="currentPage == 'create' && mbId != null" class="mb-create__form--title">Copying Moodboard named <strong>{{boardname}}</strong></span>
    </div>
</div>

<div class="mb-form">
  <form [formGroup]="mbCreateForm"  class="add-field" (ngSubmit)="onSubmit()">
          <label style="display: flex;" class="label">Moodboard Type <span class="asterisk">*</span></label>
          <mat-button-toggle-group formControlName="moodboardType" #mbtypegroup="matButtonToggleGroup"   aria-label="Moodboard Type">
            <ng-container *ngFor="let item of catagorydata; let i = index">
            <mat-button-toggle [ngClass]="{'selected': mbtypegroup.value == item?.type_id}" value="{{item?.type_id}}">
                <img mat-card-image width="100px" height="100px" src="{{item.imageSrc}}" alt="{{item.value}}">
                <div fxLayout="row" class="text" fxLayoutGap="1rem" fxLayoutAlign="center center">
                  <div fxLayout="row" class="text-lable" >{{item.value}}</div>
                </div>
              </mat-button-toggle>          
            </ng-container>
          </mat-button-toggle-group>
<div class="mb-form-inner" style="width: 100%;" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
  <div fxLayout="column" style="width: 100%;" fxLayoutAlign="center center" fxLayoutGap="2rem"> 
    <!-- <mat-form-field appearance = "fill">
      <label for="moodboardName">Moodboard Name <span class="asterisk">*</span></label>
      <input formControlName="moodboardName" matInput placeholder = "Name your Board">
    </mat-form-field> -->
    <div fxFlex="100" style="width: 100%;" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Moodboard Name<span class="asterisk">*</span></span>
      <input
        [ngClass]="{
          'error-border': mbCreateForm.get('moodboardName')?.invalid
        }"
        type="text"
        formControlName="moodboardName"
        placeholder="Name your Board"
      />
    </div>
    <div fxFlex="100" style="width: 100%;" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Project Name<span class="asterisk"></span> </span>
      <div fxLayout="row"  style="width: 100%;" fxLayoutAlign="stretch" style="padding: 0px; margin: 0 0 0 -15px;">
        <a mat-button *ngIf="_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" (click)="showPDropdown=!showPDropdown" class="add">
          <img src="assets/moodboard/images/SVG-Icons-06.svg">
        </a>
        <a *ngIf="!_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" class="add">
          <img src="assets/moodboard/images/SVG-Icons-06.svg">        </a>
    
      <input *ngIf="showPDropdown"
        [ngClass]="{
          'error-border': mbCreateForm.get('moodboardProjectName')?.invalid
        }"
        type="text"
        formControlName="moodboardProjectName"
        placeholder="Add Project Name"
      />
      <select *ngIf="_user.getUser().isInternalUser() && !showPDropdown "
      [ngClass]="{
        'error-border': mbCreateForm.get('project_id')?.invalid
      }"
      formControlName="project_id"
    >
      <option *ngFor="let prj of projectList" [value]="prj.sgid">
        {{ prj.project }}
      </option>
    </select>
  </div>
    </div>
 
    <div fxFlex="100" fxLayout="column" style="width: 100%;" fxLayoutAlign=" stretch">
      <span class="label">City<span class="asterisk">*</span></span>
      <input
        [ngClass]="{
          'error-border': mbCreateForm.get('moodboardCity')?.invalid
        }"
        type="text"
        formControlName="moodboardCity"
        placeholder="Enter a City"
      />
    </div>
 

    
    
   <!-- <mat-form-field appearance = "fill">
    <label for="moodboardCompany">Company Name <span class="asterisk">*</span></label>
    <input formControlName="moodboardCompany" matInput placeholder = "Enter Company Name">
 </mat-form-field>
 <mat-form-field appearance = "fill">
  <label for="moodboardProjectName">Project Name <span class="asterisk">*</span></label>
  <input formControlName="moodboardProjectName" matInput placeholder = "Name your Project">
</mat-form-field> -->

  </div>
  <div fxLayout="column" style="width: 100%;" fxLayoutAlign="center center" fxLayoutGap="2rem"> 
    <div fxFlex="100" style="width: 100%;" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">Company Name<span class="asterisk">*</span>
    </span>
    <div fxLayout="row" style="width: 100%;" fxLayoutAlign="stretch" style="padding: 0px; margin: 0 0 0 -15px;">
    <a mat-button *ngIf="_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" (click)="showDropdown=!showDropdown; showPDropdown=!showPDropdown" class="add">
      <img src="assets/moodboard/images/SVG-Icons-06.svg">
    </a>
    <a mat-button *ngIf="!_user.getUser().isInternalUser()" style="padding: 0px 10px 0px 9px; margin: -4px -5px -5px 0px;" class="add">
      <img src="assets/moodboard/images/SVG-Icons-06.svg">
    </a>
    <input *ngIf="showDropdown"
        [readonly]="!_user.getUser().isInternalUser()"
        [ngClass]="{
          'error-border': mbCreateForm.get('moodboardCompany')?.invalid,
          'read-only': !_user.getUser().isInternalUser()
        }"
        type="text"
        formControlName="moodboardCompany"
        placeholder="Add Company Name"
      />
      <select *ngIf="_user.getUser().isInternalUser() && !showDropdown"
      [ngClass]="{
        'error-border': mbCreateForm.get('company_id')?.invalid
      }"
      formControlName="company_id"
      (change)="getProjectList('', $event)"
    >
      <option  *ngFor="let cmp of companyList" [value]="cmp.sgid" >
        {{ cmp.company }}
      </option>
    </select>
  </div>
    </div>

    <div fxFlex="100" style="width: 100%;" fxLayout="column" fxLayoutAlign=" stretch">
      <span class="label">State<span class="asterisk">*</span></span>
      <select
        [ngClass]="{
          'error-border': mbCreateForm.get('moodboardState')?.invalid
        }"
        formControlName="moodboardState"
      >
        <option *ngFor="let state of stateList" [value]="state.sgid">
          {{ state.name }}
        </option>
      </select>
    </div>
    
    <div fxFlex="100" fxLayout="column" style="width: 100%;" fxLayoutAlign=" stretch">
      <span class="label">Zip Code<span class="asterisk">*</span></span>
      <input
        [ngClass]="{
          'error-border': mbCreateForm.get('moodboardZip')?.invalid
        }"
        type="text"
        formControlName="moodboardZip"
        placeholder="Add a ZipCode"
      />
    </div>
    <!-- <mat-form-field appearance = "fill">
      <mat-label>State <span class="asterisk">*</span></mat-label>
        <mat-select formControlName="moodboardState">
          <mat-option *ngFor="let state of stateList" [value]="state.sgid">{{state.name}}</mat-option>
        </mat-select>

    </mat-form-field>
    <mat-form-field appearance = "fill">
      <label for="moodboardCity">City <span class="asterisk">*</span></label>
      <input formControlName="moodboardCity" matInput placeholder = "Enter a City">
   </mat-form-field>
   <mat-form-field appearance = "fill">
    <label for="moodboardZip">Zip Code <span class="asterisk">*</span></label>
    <input (input)="validatedCityZipCode()" formControlName="moodboardZip" matInput placeholder = "Add a ZipCode">
 </mat-form-field> -->
 
  </div>
</div>
<div class="mb-form-inner" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="2rem">
  <button *ngIf="mbId == '' || mbId != '' && currentPage == 'create'"   class="btn btn-primary"  mat-raised-button
  color="accent"  type="submit" mat-button>CREATE</button>
  <button *ngIf="mbId != '' && currentPage != 'create'" class="btn btn-primary" type="submit"  mat-button
  color="accent" mat-button>UPDATE</button>
  <button (click)="resetForm();" class="btn btn-primary btn-cancel" mat-button color="accent"  mat-button>CANCEL</button>
  <div fxLayoutGap="4rem"></div>         
  
</div>          

</form>  
</div>          
</div>      
     


