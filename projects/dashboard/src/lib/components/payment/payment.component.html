<div class="dash__payment--content" fxFlex>
  <div fxLayout="row" fxLayoutGap="1rem" fxLayoutAlign="space-between center">
  <div fxLayout="column" fxLayoutGap="1rem">
    <div class="h1">PAYMENT</div>
    <div class="pt">
      <span class="h2 pt"> Cards/Bank Accounts </span>
     </div> 
  </div>  
    <div fxLayout="row" fxLayoutGap="1rem" fxLayoutAlign="space-between center">
      <button
        style="border-radius: 50px"
        mat-flat-button
        color="primary"
        (click)="AddCard()"
      >
        NEW CARD
      </button>
      <button
        style="border-radius: 50px"
        mat-flat-button
        color="primary"
        (click)="AddAccount()"
      >
        NEW BANK ACCOUNT
      </button>
  </div>
</div>
      <mat-divider></mat-divider>
      <div fxLayout="row" fxLayoutAlign="space-between start"
      fxLayoutGap="1rem">
      <mat-card style="width: 100%;">
            <table class="card-table">
              <tr>
                <th>Type</th>
                <th>Brand</th>
                <th>Number</th>
                <th>Expires</th>
                <th></th>
              </tr>
              <mat-divider></mat-divider>
              <tr *ngFor="let bankCard of bankcardList">
                <td style="text-transform: capitalize;">{{bankCard.card_type}}</td>
                <td>{{bankCard.source_brand}}</td>
                <td>XXXX-XXXX-XXXX-{{bankCard.last4}}</td>
                <td>{{bankCard.exp_month}} / {{bankCard.exp_year}}</td>
                <td *ngIf="bankCard.is_default==1">      <button
                  style="border-radius: 50px; background: #D7D7D7; color: #000;"
                  mat-flat-button
                  color="primary"
                 >
                  Default
                </button>
                </td>
                <td *ngIf="bankCard.is_default !=1"> 
                  <a style="padding-right: 10px;" matTooltip="Remove Card/Bank" (click)="removeCard(bankCard.sgid)"
                   class="fa fa-trash pointer"></a> 
                  <a (click)="AddDefault(bankCard.sgid)"
                  class="fa fa-check pointer" matTooltip="Add Default Card/Bank"></a> 
                  
                </td>
              </tr>
            </table>
      </mat-card>
      </div>
      <div style="padding-top: 20px;">
        <div fxLayout="column" fxLayoutGap="1rem">
          <div class="h1">Transactions</div>
          <mat-divider></mat-divider>
        </div>
        <!-- <ag-grid-angular
          [defaultColDef]="defaultColDef"
          style="height: 500px;"
          [gridOptions]="gridOptions"
          class="ag-theme-alpine quotes-table"
          [rowData]="rowData | async"
          [columnDefs]="columnDefs"
        >
        </ag-grid-angular> -->
        <table class="trans-table">
          <tr>
            <th>Payment Date</th>
            <th>Order No</th>
            <th>Invoice No</th>
            <th>Amount Paid</th>
            <th>Invoice Date</th>
            <th>Payment Type</th>
            <mat-divider></mat-divider>
          </tr>
          <tr *ngFor="let row of rowData | async; index as i;" 
          [ngClass]="{'strip': i%2 == 0}"
          >
            <td>{{row.payment_date}}</td>
            <td (click)="redirectToOrder(row.order_sgid)">{{row.order_no}}</td>
            <td>{{row.invoice_no}}</td>
            <td>{{row.amount_paid}}</td>
            <td>{{row.invoice_date}}</td>
            <td>{{row.payment_type}}</td>
          </tr>
        </table>


      </div>
  </div>