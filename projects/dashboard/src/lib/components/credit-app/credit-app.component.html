<div fxLayout="column" class="cre-app" fxLayoutGap="2rem">
  <div class="h1">CREDIT APPLICATION</div>
  <mat-vertical-stepper class="g-box-shadow" [linear]="true" #stepper>
    <mat-step [editable]="false" [stepControl]="firstFormGroup">
      <form [formGroup]="firstFormGroup">
        <ng-template matStepLabel>Company & Ownership Information</ng-template>
        <mat-form-field>
          <mat-label>Name</mat-label>
          <input matInput  placeholder="Last name, First name" formControlName="firstCtrl" required>
        </mat-form-field>
        <div fxLayout="row" fxLayoutGap="2rem">
          <button mat-flat-button color="accent" class="round" matStepperNext>SAVE</button>
          <button mat-flat-button color="primary" class="round" matStepperNext>NEXT</button>
        </div>
      </form>
    </mat-step>
    <mat-step [editable]="false" [stepControl]="secondFormGroup">
      <form [formGroup]="secondFormGroup">
        <ng-template matStepLabel>Fill out your address</ng-template>
        <mat-form-field>
          <mat-label>Address</mat-label>
          <input matInput formControlName="secondCtrl" placeholder="Ex. 1 Main St, New York, NY"
                 required>
        </mat-form-field>
        <div fxLayout="row" fxLayoutGap="2rem">
          <button  mat-flat-button color="accent"  mat-button matStepperNext>SAVE</button>
          <button  mat-flat-button color="accent"  mat-button matStepperNext>NEXT</button>
        </div>
      </form>
    </mat-step>
    <mat-step [editable]="false">
      <ng-template matStepLabel>Done</ng-template>
      <p>You are now done.</p>
      <div fxLayoutGap="2rem">
        <button mat-flat-button color="accent" (click)="stepper.reset()">RESET</button>
        <button mat-flat-button color="primary" >SUBMIT</button>
       
      </div>
    </mat-step>
  </mat-vertical-stepper>
 

  <mat-accordion
    class="cre-app__accord"
    fxLayout="column"
    multi
    fxLayoutGap="1rem"
  >
    <mat-expansion-panel
      class="cre-app__accord--panel"
      *ngFor="let section of sections; let i = index"
    >
      <mat-expansion-panel-header>
        <mat-panel-title fxLayoutGap="1rem" fxLayoutAlign="start center">
          <mat-checkbox [(ngModel)]="section.isChecked"></mat-checkbox>
          <span class="h2">{{ section.label }}</span>
        </mat-panel-title>
      </mat-expansion-panel-header>
      <lib-company-info
        *ngIf="i == 0 && appData?.company_info"
        [companyInfo]="appData?.company_info"
      ></lib-company-info>
      <lib-property-info
        *ngIf="i == 1 && appData?.business_info"
        [data]="appData?.business_info"
      ></lib-property-info>
      <lib-document
        *ngIf="i == 2 && appData?.document_info"
        [docInfo]="appData?.document_info"
      ></lib-document>
      <lib-guarantor-info
        *ngIf="i == 3 && appData?.guarantor_info"
        [info]="appData?.guarantor_info"
      ></lib-guarantor-info>
      <lib-payment-auth *ngIf="i == 4"></lib-payment-auth>
      <lib-tand-c *ngIf="i == 5"></lib-tand-c>
    </mat-expansion-panel>
  </mat-accordion>
</div>
